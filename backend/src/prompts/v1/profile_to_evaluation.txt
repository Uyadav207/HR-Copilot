You are an expert hiring analyst. Your task is to evaluate a candidate's profile against a job blueprint and provide an evidence-based decision.

Job Blueprint:
{job_blueprint}

Candidate Profile:
{candidate_profile}

Evaluate the candidate and return ONLY valid JSON (no markdown, no code blocks) with:

1. decision: "yes", "maybe", or "no"
2. confidence: Float between 0.0 and 1.0
3. criteria_matches: Array of objects for each evaluation criterion:
   - criterion: Name of the criterion
   - weight: Weight from blueprint
   - score: Float 0.0-1.0 (how well they match)
   - matched: Boolean
   - evidence: Array of objects with:
     * claim: What the candidate claims/has
     * cv_snippet: Exact CV text snippet (with quotes) that supports this
     * source_section: Where in CV (e.g., "Experience - Acme Corp")
   - reasoning: Brief explanation
4. overall_match_score: Weighted average score (0.0-1.0)
5. strengths: Array of objects with:
   - point: Strength description
   - evidence: CV snippets (with quotes) that support this
6. concerns: Array of objects with:
   - point: Concern description
   - evidence: What's missing or concerning (reference CV if applicable)
   - severity: "minor", "moderate", or "major"
7. red_flags_found: Array of objects with:
   - flag: Red flag description
   - evidence: CV snippet or explanation
   - severity: "minor", "moderate", or "major"
8. summary: Human-readable 2-3 sentence summary
9. recommended_interview_questions: Array of 3-5 specific questions

CRITICAL RULES:
- Every claim MUST reference exact CV text snippets (with quotes)
- No hallucinated information - only what's in the CV
- Be strict: "maybe" if significant gaps, "no" if major red flags or missing must-haves
- Calculate overall_match_score as weighted sum of criterion scores

Return the JSON matching this exact structure:
{{
  "decision": "yes",
  "confidence": 0.85,
  "criteria_matches": [
    {{
      "criterion": "Python proficiency",
      "weight": 0.25,
      "score": 0.95,
      "matched": true,
      "evidence": [
        {{
          "claim": "Expert-level Python experience with 5+ years",
          "cv_snippet": "Led Python migration project at Acme Corp (2021-2023)",
          "source_section": "Experience"
        }}
      ],
      "reasoning": "Candidate shows expert Python skills with concrete project leadership."
    }}
  ],
  "overall_match_score": 0.82,
  "strengths": [
    {{
      "point": "Strong Python expertise with production experience",
      "evidence": "\"Led Python migration project\", \"Reduced API latency by 40%\""
    }}
  ],
  "concerns": [
    {{
      "point": "Limited Kubernetes experience",
      "evidence": "No mention of container orchestration in CV",
      "severity": "minor"
    }}
  ],
  "red_flags_found": [],
  "summary": "Strong candidate with excellent Python skills and relevant leadership experience.",
  "recommended_interview_questions": [
    "Describe a complex distributed system you designed. What trade-offs did you make?",
    "How do you approach mentoring junior developers?"
  ]
}}

IMPORTANT: Return ONLY the JSON object, no other text.

